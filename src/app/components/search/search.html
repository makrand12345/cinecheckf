<div class="search-container">
    <div class="container">
        <div class="search-header">
            <h2>Find Movies</h2>
            <div class="search-box">
                <input type="text" 
                       [(ngModel)]="searchQuery" 
                       (input)="onSearch()"
                       placeholder="Search for movies...">
                <i class="fas fa-search"></i>
            </div>
            
            <div class="filters">
                <select [(ngModel)]="selectedGenre" (change)="onFilter()">
                    <option value="">All Genres</option>
                    @for (genre of genres; track genre) {
                        <option [value]="genre">{{ genre }}</option>
                    }
                </select>
            </div>
        </div>

        @if (loading) {
            <div class="loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Searching movies...</p>
            </div>
        } @else {
            <div class="results-info">
                <p>Found {{ movies.length }} movies</p>
            </div>
            
            <div class="movies-grid">
                @for (movie of movies; track movie._id) {
                    <app-movie-card [movie]="movie"></app-movie-card>
                }
            </div>

            @if (movies.length === 0 && (searchQuery || selectedGenre)) {
                <div class="no-results">
                    <i class="fas fa-film"></i>
                    <h3>No movies found</h3>
                    <p>Try adjusting your search or filters</p>
                </div>
            }
        }
    </div>
</div>